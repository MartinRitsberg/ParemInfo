(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[340],{500:(e,i,n)=>{Promise.resolve().then(n.bind(n,2964))},2964:(e,i,n)=>{"use strict";n.r(i),n.d(i,{default:()=>d});var l=n(5155),s=n(2115),t=n(6593);let d=()=>{let{app:e}=(0,t.U)(),i=e.clientList.find(i=>i.id===e.activeClient),[n,d]=(0,s.useState)({name:"Eestkostja nimi",phone:"+37212345678"}),[a,c]=(0,s.useState)(!1),[o,h]=(0,s.useState)([{id:1,clientId:1,action:"Tegevus 1",time:"10:30",info:"Info 1"},{id:2,clientId:1,action:"Tegevus 2",time:"12:00",info:"Info 2"},{id:3,clientId:2,action:"Tegevus 3",time:"14:00",info:"Info 3"},{id:4,clientId:3,action:"Tegevus 4",time:"16:00",info:"Info 4"}]),[r,u]=(0,s.useState)(!1),[x,j]=(0,s.useState)(null),m=o.filter(e=>e.clientId===(null==i?void 0:i.id)),v=()=>{c(!1)},p=e=>{let{name:i,value:n}=e.target;d(e=>({...e,[i]:n}))},f=e=>{j(e),u(!0)},g=()=>{u(!1),j(null)},b=e=>{let{name:i,value:n}=e.target;j(e=>({...e,[i]:n}))};return(0,l.jsxs)("div",{className:"client-page",children:[i?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"client-info",children:[(0,l.jsx)("div",{className:"client-photo",children:i.pilt?(0,l.jsx)("img",{src:i.pilt,alt:"Kliendi pilt"}):(0,l.jsx)("div",{className:"placeholder-photo",children:"Foto puudub"})}),(0,l.jsxs)("div",{className:"client-details",children:[(0,l.jsxs)("h2",{children:[i.eesnimi," ",i.perenimi]}),(0,l.jsxs)("p",{children:["ID: ",i.isikukood]}),(0,l.jsx)("p",{children:"Kontaktinfo:"}),(0,l.jsxs)("p",{children:["Telefon: ",i.telefon||"Puudub"]}),(0,l.jsxs)("p",{children:["Email: ",i.email||"Puudub"]})]})]}),(0,l.jsxs)("div",{className:"guardian-info",children:[(0,l.jsx)("h3",{children:"Eestkostja"}),(0,l.jsxs)("p",{children:["Nimi: ",n.name]}),(0,l.jsxs)("p",{children:["Telefon: ",n.phone]}),(0,l.jsx)("button",{className:"info-button",onClick:()=>{c(!0)},children:"Lisa Info"})]}),(0,l.jsxs)("div",{className:"client-actions",children:[(0,l.jsx)("h3",{children:"Tegevused"}),(0,l.jsx)("button",{className:"add-button",onClick:()=>{j({id:null,clientId:i.id,action:"",time:"",info:""}),u(!0)},children:"Lisa"}),m.length>0?(0,l.jsxs)("table",{children:[(0,l.jsx)("thead",{children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{children:"Tegevus"}),(0,l.jsx)("th",{children:"Aeg"}),(0,l.jsx)("th",{children:"Info"}),(0,l.jsx)("th",{children:"Muuda"})]})}),(0,l.jsx)("tbody",{children:m.map(e=>(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{children:e.action}),(0,l.jsx)("td",{children:e.time}),(0,l.jsx)("td",{children:e.info}),(0,l.jsx)("td",{children:(0,l.jsx)("button",{className:"edit-button",onClick:()=>f(e),children:"Muuda"})})]},e.id))})]}):(0,l.jsx)("p",{children:"Tegevusi ei leitud."})]})]}):(0,l.jsx)("p",{children:"Vali klient k\xfclgribalt"}),a&&(0,l.jsx)("div",{className:"modal",children:(0,l.jsxs)("div",{className:"modal-content",children:[(0,l.jsx)("h3",{children:"Muuda eestkostja infot"}),(0,l.jsxs)("form",{children:[(0,l.jsxs)("label",{children:["Nimi:",(0,l.jsx)("input",{type:"text",name:"name",value:n.name,onChange:p})]}),(0,l.jsxs)("label",{children:["Telefon:",(0,l.jsx)("input",{type:"text",name:"phone",value:n.phone,onChange:p})]})]}),(0,l.jsx)("button",{onClick:()=>{console.log("Salvestatud eestkostja info:",n),v()},children:"Salvesta"}),(0,l.jsx)("button",{onClick:v,children:"Sulge"})]})}),r&&(0,l.jsx)("div",{className:"modal",children:(0,l.jsxs)("div",{className:"modal-content",children:[(0,l.jsx)("h3",{children:(null==x?void 0:x.id)?"Muuda tegevust":"Lisa tegevus"}),(0,l.jsxs)("form",{children:[(0,l.jsxs)("label",{children:["Tegevus:",(0,l.jsx)("input",{type:"text",name:"action",value:(null==x?void 0:x.action)||"",onChange:b})]}),(0,l.jsxs)("label",{children:["Aeg:",(0,l.jsx)("input",{type:"text",name:"time",value:(null==x?void 0:x.time)||"",onChange:b})]}),(0,l.jsxs)("label",{children:["Info:",(0,l.jsx)("input",{type:"text",name:"info",value:(null==x?void 0:x.info)||"",onChange:b})]})]}),(0,l.jsx)("button",{onClick:()=>{x.id?h(e=>e.map(e=>e.id===x.id?x:e)):h(e=>[...e,{...x,id:Date.now()}]),g()},children:"Salvesta"}),(0,l.jsx)("button",{onClick:g,children:"Sulge"})]})})]})}},6593:(e,i,n)=>{"use strict";n.d(i,{A:()=>t,U:()=>d});var l=n(2115);let s=(0,l.createContext)(),t=s,d=()=>(0,l.useContext)(s)}},e=>{var i=i=>e(e.s=i);e.O(0,[441,517,358],()=>i(500)),_N_E=e.O()}]);